{"version":3,"file":"js/250.bad79d77.js","mappings":"yHAIAA,EAAQ,EAAU,CAACC,EAAKC,KACpB,MAAMC,EAASF,EAAIG,WAAaH,EAChC,IAAK,MAAOI,EAAKC,KAAQJ,EACrBC,EAAOE,GAAOC,EAElB,OAAOH,CAAM,C,4MCPV,SAASI,EAAQC,EAAOC,EAASC,IACpCC,EAAAA,EAAAA,IAAe,CACXH,MAAOA,EACPC,QAASA,EACTG,SAAU,cACVF,KAAMA,GAEd,C,8jBCFA,MAAMG,GAASC,EAAAA,EAAAA,MACTC,EAAQ,IAAIC,EAAAA,GACZC,GAAWC,EAAAA,EAAAA,MACXC,GAAWD,EAAAA,EAAAA,KAAI,GAEfE,EAAiBf,IACrBQ,EAAOQ,KAAK,CAACC,KAAM,SAAWjB,GAAK,EAE/BkB,EAAcA,KAClBR,EAAMS,OAAO,aAAc,SAC3BL,EAASM,OAAQ,EACjBZ,EAAOQ,KAAK,cAAc,EAEtBK,EAAYA,KAChBb,EAAOQ,KAAK,YAAY,EAGpBM,EAAQA,MACZC,EAAAA,EAAAA,MAAsBC,MAAKC,IACzB,IAAK,IAAIC,KAAQD,EAAIE,KAAKC,IACxBC,EAAeC,KAAKC,IAAIL,EAC1B,KAEFM,EAAAA,EAAAA,MAAwBR,MAAKC,IAC3B,IAAK,IAAIC,KAAQD,EAAIE,KAAKC,IACxBK,EAAcH,KAAKC,IAAIL,EACzB,IAEFd,EAASQ,MAAQc,aAAY,KAC3B,IAAIC,EAAc3B,EAAO4B,aAAaC,UAAUC,UAClB,IAA1B5B,EAAM6B,MAAMC,WAAuBL,EAAYM,SAAS,iBAC1D3B,EAASM,OAAQ,IAEa,IAA5BV,EAAM6B,MAAMG,cACdxC,EAAQ,MAAO,aAAc,WAC7BQ,EAAMS,OAAO,aAAc,aAEK,IAA9BT,EAAM6B,MAAMI,gBACdzC,EAAQ,KAAM,aAAc,WAC5BQ,EAAMS,OAAO,aAAc,aAC7B,GACC,IAAK,EAEJU,GAAiBe,EAAAA,EAAAA,IAAS,CAACd,KAAM,IAAIe,IAAI,MACzCZ,GAAgBW,EAAAA,EAAAA,IAAS,CAACd,KAAM,IAAIe,IAAI,M,OAC9CC,OAAOC,aAAaC,QAAQC,WAAWC,IACrC,IAAIF,EAAUG,KAAKC,MAAMF,EAAMvB,MAC/BE,EAAeC,KAAKC,IAAIiB,EAAQK,KAAK,IAEvCP,OAAOC,aAAaO,UAAUL,WAAWC,IACvC,IAAII,EAAYH,KAAKC,MAAMF,EAAMvB,MACjCM,EAAcH,KAAKC,IAAIuB,EAAUD,KAAK,KAExCE,EAAAA,EAAAA,KAAY,KACVC,cAAc5C,EAASQ,MAAM,IAE/BE,I,0yCCzDA,MAAMmC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,4YCLA,MAAM,EAAc,EAEpB,O,uBCLA,IAAIC,EAAM,CACT,YAAa,KACb,kBAAmB,KACnB,eAAgB,KAChB,cAAe,KACf,YAAa,IACb,YAAa,KACb,aAAc,KACd,mBAAoB,KACpB,iBAAkB,KAClB,eAAgB,IAChB,cAAe,KACf,eAAgB,KAChB,gBAAiB,KACjB,eAAgB,MAIjB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,EAC5B,CACA,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,CACP,CACA,OAAOP,EAAIE,EACZ,CACAD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,EACpB,EACAC,EAAeW,QAAUR,EACzBS,EAAO5E,QAAUgE,EACjBA,EAAeE,GAAK,I","sources":["webpack://agent-frontend/./node_modules/.pnpm/vue-loader@17.3.0_vue@3.3.7_webpack@5.89.0/node_modules/vue-loader/dist/exportHelper.js","webpack://agent-frontend/./src/utils/message.js","webpack://agent-frontend/./src/components/aside/Navigation.vue","webpack://agent-frontend/./src/components/aside/Navigation.vue?b76b","webpack://agent-frontend/./src/views/Index.vue","webpack://agent-frontend/./src/assets/ sync ^\\.\\/.*\\.png$"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import {ElNotification} from 'element-plus'\r\n\r\nexport function Message(title, message, type) {\r\n    ElNotification({\r\n        title: title,\r\n        message: message,\r\n        position: 'bottom-left',\r\n        type: type\r\n    })\r\n}","<script setup>\r\nimport {useRouter} from \"vue-router\"\r\nimport {getContextNamespace, getFrameworkNamespace} from \"@/utils/DataApi\";\r\nimport {useStore} from \"vuex\";\r\nimport {inject, onUnmounted, reactive, ref} from \"vue\";\r\nimport {Message} from \"@/utils/message\";\r\n\r\nconst router = useRouter()\r\nconst store = new useStore()\r\nconst interval = ref()\r\nconst hasStack = ref(true)\r\n\r\nconst dynamicRouter = (key) => {\r\n  router.push({path: '/info/' + key})\r\n}\r\nconst stackRouter = () => {\r\n  store.commit('CLEAN_FLAG', 'stack')\r\n  hasStack.value = true\r\n  router.push('/info/stack')\r\n}\r\nconst logRouter = () => {\r\n  router.push('/info/log')\r\n}\r\n\r\nconst setup = () => {\r\n  getContextNamespace().then(res => {\r\n    for (let elem of res.data.msg) {\r\n      middlewareList.list.add(elem)\r\n    }\r\n  })\r\n  getFrameworkNamespace().then(res => {\r\n    for (let elem of res.data.msg) {\r\n      frameworkList.list.add(elem)\r\n    }\r\n  })\r\n  interval.value = setInterval(() => {\r\n    let currentPath = router.currentRoute._rawValue.fullPath\r\n    if (store.state.stackFlag === true && !currentPath.endsWith('/info/stack')) {\r\n      hasStack.value = false\r\n    }\r\n    if (store.state.contextFlag === true) {\r\n      Message('上下文', '发现新的中间件上下文', 'success')\r\n      store.commit('CLEAN_FLAG', 'context')\r\n    }\r\n    if (store.state.frameworkFlag === true) {\r\n      Message('框架', '发现新的框架注册行为', 'success')\r\n      store.commit('CLEAN_FLAG', 'framework')\r\n    }\r\n  }, 1000)\r\n}\r\nconst middlewareList = reactive({list: new Set([])})\r\nconst frameworkList = reactive({list: new Set([])})\r\nwindow.routersocket.context.onmessage((event) => {\r\n  let context = JSON.parse(event.data)\r\n  middlewareList.list.add(context.from)\r\n})\r\nwindow.routersocket.framework.onmessage((event) => {\r\n  let framework = JSON.parse(event.data)\r\n  frameworkList.list.add(framework.from)\r\n})\r\nonUnmounted(() => {\r\n  clearInterval(interval.value)\r\n})\r\nsetup()\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <h5>菜单</h5>\r\n    <el-menu\r\n        class=\"list_menu\">\r\n      <el-sub-menu index=\"1\">\r\n        <template #title>\r\n          <img src=\"@/assets/middleware.png\" alt=\"middleware\" class=\"nav_img\"/>\r\n          <span>中间件</span>\r\n        </template>\r\n        <el-menu class=\"el-menu-demo\" v-for=\"item in middlewareList.list\" @select=\"dynamicRouter\">\r\n          <el-menu-item :index=\"item\">\r\n            <img :src=\"require('../../assets/' + item + '.png')\" class=\"nav_img\" :alt=\"item\"/>\r\n            <span>{{ item }}</span>\r\n          </el-menu-item>\r\n        </el-menu>\r\n      </el-sub-menu>\r\n      <el-sub-menu index=\"2\">\r\n        <template #title>\r\n          <img src=\"@/assets/framework.png\" alt=\"framework\" class=\"nav_img\"/>\r\n          <span>框架</span>\r\n        </template>\r\n        <el-menu class=\"el-menu-demo\" v-for=\"item in frameworkList.list\" @select=\"dynamicRouter\">\r\n          <el-menu-item :index=\"item\">\r\n            <img :src=\"require('../../assets/' + item + '.png')\" class=\"nav_img\" :alt=\"item\"/>\r\n            <span>{{ item }}</span>\r\n          </el-menu-item>\r\n        </el-menu>\r\n      </el-sub-menu>\r\n\r\n      <el-menu-item @click=\"stackRouter\">\r\n        <template #title>\r\n          <img src=\"@/assets/stack.png\" alt=\"stack\" class=\"nav_img\">\r\n          <span><el-badge :hidden=\"hasStack\" value=\"new\" class=\"item\">堆栈</el-badge></span>\r\n        </template>\r\n      </el-menu-item>\r\n\r\n      <el-menu-item @click=\"logRouter\">\r\n        <template #title>\r\n          <img src=\"@/assets/log.png\" alt=\"log\" class=\"nav_img\">\r\n          <span>日志</span>\r\n        </template>\r\n      </el-menu-item>\r\n    </el-menu>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n.nav_img {\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.el-menu {\r\n  border-radius: 10px;\r\n}\r\n</style>","import script from \"./Navigation.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Navigation.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Navigation.vue?vue&type=style&index=0&id=26d2fc5e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.3.0_vue@3.3.7_webpack@5.89.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-26d2fc5e\"]])\n\nexport default __exports__","import script from \"./Index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Index.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","var map = {\n\t\"./dir.png\": 3119,\n\t\"./framework.png\": 3175,\n\t\"./jersey.png\": 1021,\n\t\"./jetty.png\": 8954,\n\t\"./jsp.png\": 423,\n\t\"./log.png\": 7941,\n\t\"./logo.png\": 6949,\n\t\"./middleware.png\": 9342,\n\t\"./settings.png\": 8957,\n\t\"./spring.png\": 889,\n\t\"./stack.png\": 3523,\n\t\"./struts.png\": 7316,\n\t\"./struts2.png\": 2066,\n\t\"./tomcat.png\": 6463\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2715;"],"names":["exports","sfc","props","target","__vccOpts","key","val","Message","title","message","type","ElNotification","position","router","useRouter","store","useStore","interval","ref","hasStack","dynamicRouter","push","path","stackRouter","commit","value","logRouter","setup","getContextNamespace","then","res","elem","data","msg","middlewareList","list","add","getFrameworkNamespace","frameworkList","setInterval","currentPath","currentRoute","_rawValue","fullPath","state","stackFlag","endsWith","contextFlag","frameworkFlag","reactive","Set","window","routersocket","context","onmessage","event","JSON","parse","from","framework","onUnmounted","clearInterval","__exports__","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module"],"sourceRoot":""}